<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Payslip - {{ payslip_month }}</title>
    <style>
        body { font-family: Arial, sans-serif; font-size: 12px; }
        table { border-collapse: collapse; width: 100%; }
        .bordered td, .bordered th { border: 1px solid black; padding: 4px; }
        .no-border td { border: none; padding: 2px; }
        .center { text-align: center; }
        .right { text-align: right; }
        .bold { font-weight: bold; }
        .logo { max-height: 50px; }
    </style>
</head>
<body>

<table class="bordered">
    <!-- Company header -->
    <tr>
        <td colspan="2">
            <div class="bold">{{ company_name }}</div>
            <div>{{ company_address }}</div>
        </td>
        <td colspan="2" class="right">
            <img src="{{ logo_path }}" alt="Company Logo" class="logo">
        </td>
    </tr>

    <!-- Payslip title -->
    <tr>
        <td colspan="4" class="center bold">Pay Slip for the Month of {{ payslip_month }}</td>
    </tr>

    <!-- Employee & Pay Info -->
    <tr>
        <td colspan="2" style="vertical-align: top;">
            <table class="no-border">
                <tr><td>Employee Name:</td><td>{{ employee_name }}</td></tr>
                <tr><td>Employee Code:</td><td>{{ employee_code }}</td></tr>
                <tr><td>Designation:</td><td>{{ designation }}</td></tr>
                <tr><td>Date of Joining:</td><td>{{ doj }}</td></tr>
                <tr><td>Pay Period:</td><td>{{ pay_period }}</td></tr>
                <tr><td>Pay Date:</td><td>{{ pay_date }}</td></tr>
                <tr><td>PF Number:</td><td>{{ pf_number }}</td></tr>
                <tr><td>UAN:</td><td>{{ uan }}</td></tr>
                <tr><td>PAN:</td><td>{{ pan }}</td></tr>
                <tr><td>Bank A/c:</td><td>{{ bank_account }}</td></tr>
            </table>
        </td>
        <td colspan="2" style="vertical-align: top;">
            <table class="no-border">
                <tr><td>Net Pay:</td><td class="bold">{{ net_pay }}</td></tr>
                <tr><td>Paid Days:</td><td>{{ paid_days }}</td></tr>
                <tr><td>LOP Days:</td><td>{{ lop_days }}</td></tr>
            </table>
        </td>
    </tr>

    <!-- Earnings & Deductions Table -->
    <tr class="bold center">
        <td>Earnings</td>
        <td>Amount</td>
        <td>Deductions</td>
        <td>Amount</td>
    </tr>

    {% for earn, deduct in rows %}
    <tr>
        <td>{{ earn.0 }}</td>
        <td class="right">{{ earn.1 }}</td>
        <td>{{ deduct.0 }}</td>
        <td class="right">{{ deduct.1 }}</td>
    </tr>
    {% endfor %}

    <!-- Totals -->
    <tr class="bold">
        <td>Gross Earnings</td>
        <td class="right">{{ gross_earnings }}</td>
        <td>Total Deductions</td>
        <td class="right">{{ total_deductions }}</td>
    </tr>

    <!-- Net Pay Section -->
    <tr class="bold center">
        <td colspan="2">Net Pay</td>
        <td colspan="2">Amount</td>
    </tr>
    <tr>
        <td colspan="2">Gross Earnings</td>
        <td colspan="2" class="right">{{ gross_earnings }}</td>
    </tr>
    <tr>
        <td colspan="2">Total Deductions</td>
        <td colspan="2" class="right">(-){{ total_deductions }}</td>
    </tr>
    <tr>
        <td colspan="2">Total Net Payable</td>
        <td colspan="2" class="right">{{ net_pay }}</td>
    </tr>

    <!-- Net Pay in Words + Formula -->
    <tr>
        <td colspan="4">
            <strong>Total Net Payable Rs.1,63,617.00</strong> {{ net_pay_words }}  <br>
         <em>**</em>{{net_pay_formula}} </td>
    </tr>
</table>

</body>
</html>
